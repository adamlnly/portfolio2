
body{
  margin:0;
  height:100vh;
  background:#1e1e1e;
  font-family:'Press Start 2P', cursive;
  overflow:hidden;
}

/* WINDOW */
.window{
  position:absolute;
  width:60vw;
  height:80vh;
  min-width:520px;
  min-height:420px;
  background:#000;
  border:2px solid #888;
  border-radius:12px;
  display:none;
  overflow:hidden;
}

/* üì± MOBILE : petit carr√© centr√© (pas full screen) */
@media (max-width:768px){
  .window{
    width:90vw;
    height:90vw;
    max-width:520px;
    max-height:520px;
    min-width:unset;
    min-height:unset;
  }
}

.bar{
  height:34px;
  background:linear-gradient(#0a64ad,#084d8c);
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 10px;
  font-size:15px;
  cursor:move;
}

.close{
  width:18px;
  height:18px;
  background:#cc0000;
  color:#fff;
  border:none;
  border-radius:4px;
  cursor:pointer;
}

/* SCREEN */
.screen{
  position:relative;
  height:calc(100% - 34px);
  overflow:hidden;
}

/* LOADING */
.loading{
  position:absolute;
  inset:0;
  background:#000;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}

.loading-logo{width:60%;max-width:320px;margin-bottom:20px}
.loading-title{color:#fff;font-size:16px;margin-bottom:18px}
.loading-bar{width:60%;height:14px;border:2px solid #fff}
.loading-fill{height:100%;width:0;background:#fff}

/* DESKTOP */
.desktop{
  position:absolute;
  inset:0;
  display:none;
}

.desktop-bg{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  pointer-events:none;
}

/* ICONS */
.icon{
  position:absolute;
  width:120px;
  display:flex;
  flex-direction:column;
  align-items:center;
  font-size:10px;
  color:#fff;
  cursor:pointer;
  user-select:none;
  touch-action:none;
}

.icon svg{width:64px;height:64px;margin-bottom:6px}

.icon-label{
  width:140px;
  background:rgba(0,0,0,.65);
  padding:6px;
  text-align:center;
  line-height:1.25;
}

/* WINDOWS (DOSSIER + TEXTE) */
.folder-window{
  position:absolute;
  width:360px;
  background:#111;
  border:2px solid #888;
  display:none;
  touch-action:none;
}

.folder-bar{
  height:26px;
  background:#e3c74c;
  font-size:9px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:0 6px;
  cursor:move;
  touch-action:none;
}

.folder-close{
  background:#cc0000;
  border:none;
  color:#fff;
  width:18px;
  height:18px;
  cursor:pointer;
}

.file{
  display:flex;
  align-items:center;
  gap:10px;
  padding:6px;
  font-size:9px;
  color:#fff;
  cursor:pointer;
  user-select:none;
  touch-action:manipulation;
}
.file:hover{background:#1e90ff}

/* TEXT VIEWER (DESKTOP : inchang√©) */
.text-content{
  padding:12px;
  font-size:15px;
  color:#fff;
  white-space:pre-wrap;   /* üî• on garde les blancs */
  line-height:1.5;
  max-height:300px;
  overflow:auto;
}

/* =====================================================
   üì± PATCH MOBILE UNIQUEMENT
===================================================== */
@media (max-width:768px){

  /* üîí largeur BLOQU√âE du viewer */
  #text-viewer{
    width:300px;
    max-width:300px;
    min-width:300px;
    height:auto;          /* hauteur libre */
    max-height:70%;       /* jamais hors √©cran */
    overflow:hidden;
  }

  /* üü° barre jaune : jamais trop longue */
  .folder-bar{
    width:100%;
    box-sizing:border-box;
  }

  .folder-bar span{
    max-width:calc(100% - 24px);
    overflow:hidden;
    white-space:nowrap;
    text-overflow:ellipsis;
  }

  /* üìù texte : vertical only */
  .text-content{
    font-size:8px;
    line-height:1.4;
    white-space:pre-wrap;     /* on garde les retours */
    overflow-x:hidden;        /* ‚ùå jamais horizontal */
    overflow-y:auto;          /* ‚úÖ vertical */
    max-height:180px;
  }

  /* ‚ùå resize sur mobile */
  .resizer{display:none}
}

/* RESIZE (DESKTOP) */
.resizer{position:absolute}
.resizer.right{top:0;right:-4px;width:8px;height:100%;cursor:ew-resize}
.resizer.bottom{bottom:-4px;left:0;width:100%;height:8px;cursor:ns-resize}
.resizer.corner{right:-6px;bottom:-6px;width:14px;height:14px;cursor:nwse-resize}

